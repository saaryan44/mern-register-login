(this.webpackJsonpreacting=this.webpackJsonpreacting||[]).push([[0],{33:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n(2),s=n(10),c=n(8),i=n(11),o=n.n(i),j=n(14),l=n(13),b=n(1),d=n(0),h=function(){var e=Object(r.f)(),t=Object(b.useState)({name:"",email:"",password:""}),n=Object(l.a)(t,2),i=n[0],h=n[1],p=function(){var t=Object(j.a)(o.a.mark((function t(n){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.name,email:i.email,password:i.password})});case 3:if(!(a=t.sent).ok){t.next=11;break}return t.next=7,a.json();case 7:(r=t.sent).registered?alert(r.message):(alert(r.message),e.push("/login")),t.next=12;break;case 11:alert("Some error in fetching request.");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(e){h(Object(c.a)(Object(c.a)({},i),{},Object(s.a)({},e.target.name,e.target.value)))};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{autoComplete:"off",method:"post",onSubmit:p,children:[Object(d.jsx)("input",{type:"text",name:"name",placeholder:"name",value:i.name,onChange:u}),Object(d.jsx)("input",{type:"email",placeholder:"email",name:"email",value:i.email,onChange:u}),Object(d.jsx)("input",{type:"password",placeholder:"password",name:"password",value:i.password,onChange:u}),Object(d.jsx)("input",{type:"submit",name:"name",value:"Register now"})]}),Object(d.jsxs)("h4",{children:["Already registered? ",Object(d.jsx)(a.b,{to:"/login",children:"Log in"})]})]})},p=function(e){var t=e.name,n=e.email;return alert("hi ".concat(t)),Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{children:["hello ",t]}),Object(d.jsxs)("h1",{style:{float:"right"},children:["Welcome ",n]}),Object(d.jsxs)("section",{children:[Object(d.jsx)("img",{src:"https://th.bing.com/th/id/OIP.Z6hTDv9NAwKYB5B18BvTFgHaDd?pid=ImgDet&rs=1",alt:"mern"}),Object(d.jsx)("h1",{children:"Placeholder Home Page."})]}),Object(d.jsx)(a.b,{to:"/",children:"Back to index page"})]})},u=function(){var e=Object(b.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(b.useState)({email:"",password:"",name:""}),h=Object(l.a)(i,2),u=h[0],m=h[1],O=function(e){m(Object(c.a)(Object(c.a)({},u),{},Object(s.a)({},e.target.name,e.target.value)))},x=function(){var e=Object(j.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),alert(u.email),e.next=4,fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u.email,password:u.password})});case 4:if(!(n=e.sent).ok){e.next=12;break}return e.next=8,n.json();case 8:(a=e.sent).ok?(alert("logged in successfully"),m(Object(c.a)(Object(c.a)({},u),{},{name:a.name})),r(!0)):alert("invalid credentials"),e.next=13;break;case 12:alert("error in trying to login");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[!1===n?Object(d.jsxs)("form",{method:"post",autoComplete:"off",onSubmit:x,children:[Object(d.jsxs)("fieldset",{children:[Object(d.jsx)("legend",{children:"Enter user credentials"}),Object(d.jsx)("input",{type:"email",name:"email",placeholder:"email",value:u.email,onChange:O}),Object(d.jsx)("input",{type:"password",name:"password",placeholder:"password",value:u.password,onChange:O}),Object(d.jsx)("input",{type:"submit",value:"login now"})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("fieldset",{children:[Object(d.jsx)("legend",{children:"Not a registered user? "}),Object(d.jsx)(a.b,{to:"/register",children:"Register now"})]})]}):Object(d.jsx)(p,{name:u.name,email:u.email}),Object(d.jsx)("footer",{children:"Some footer"})]})},m=function(){return Object(d.jsxs)("h1",{children:["This page does not exist. ",Object(d.jsx)("br",{}),Object(d.jsx)("u",{children:"404 not found"})]})},O=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Hello universe"}),Object(d.jsx)(a.b,{to:"/register",children:"Register now"}),Object(d.jsxs)("pre",{children:["     ",Object(d.jsx)(a.b,{to:"/login",children:"Login now"})]})]})},x=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Bare-bones User Registeration and Login Application"}),Object(d.jsx)("br",{}),Object(d.jsx)("hr",{}),Object(d.jsxs)(r.c,{children:[Object(d.jsx)(r.a,{path:"/",exact:!0,component:O}),Object(d.jsx)(r.a,{path:"/register",exact:!0,component:h}),Object(d.jsx)(r.a,{path:"/login",exact:!0,component:u})," ",Object(d.jsx)(r.a,{component:m})]})]})},g=n(21);n.n(g).a.render(Object(d.jsx)(a.a,{children:Object(d.jsx)(x,{})}),document.querySelector("#root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.5eb23978.chunk.js.map